!function(e){function t(t){for(var n,o,c=t[0],u=t[1],l=t[2],d=0,f=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(s&&s(t);f.length;)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,c=1;c<r.length;c++){var u=r[c];0!==i[u]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={0:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;a.push([108,1]),r()}({108:function(e,t,r){"use strict";r.r(t);r(82),r(83),r(60),r(37),r(90),r(63),r(67),r(68),r(69),r(70),r(72),r(43),r(77),r(44),r(78),r(79),r(80),r(81);var n=function(e){var t=e.name,r=e.length,n="horizontal",i=Array(r).fill(null);return{id:t,length:r,direction:n,getDirection:function(){return n},changeDirection:function(){"horizontal"===n?n="vertical":"vertical"===n&&(n="horizontal")},getLives:function(){return i},doDamage:function(e){i[e]="hit"},lives:i,isSunk:function(){return i.every((function(e){return"hit"===e}))}}},i=[{name:"carrier",length:3},{name:"battleship",length:4},{name:"cruiser",length:3},{name:"submarine",length:3},{name:"destroyer",length:2}],a=function(){return Math.floor(10*Math.random())},o=function(){return[a(),a()]},c=function(e){for(var t=[],r=0;r<e.length;r++)e[r],t.push(n(e[r]));return t};function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(){var e=Array(10).fill(null).map((function(){return Array(10).fill(null)})),t=[],r=function(e,t,r,n){var i=e,a=t+r;return"vertical"===n&&(i=e+r,a=t),[i,a]},n=function(n,i,o){var c=n.getDirection(),l=a(n.length,i,o,c);if(!0===l){for(var s=0;s<n.length;s++){var d=u(r(i,o,s,c),2),f=d[0],g=d[1];e[f][g]={ship:n,index:s}}return t.push(n),l}return l},a=function(t,n,i,a){for(var o=[],c=0;c<t;c++){var l=u(r(n,i,c,a),2),s=l[0],d=l[1];if(!(s<10&&d<10))return!1;o.push(e[s][d])}return o.every((function(e){return null===e}))},c=function e(t){var r=u(o(),2),i=r[0],a=r[1];Math.round(Math.random())>.5&&t.changeDirection(),n(t,i,a)||e(t)};return{getBoard:function(){return e},placeShip:n,receiveHit:function(t,r){return null===e[t][r]?e[t][r]="miss":e[t][r].ship&&(e[t][r].ship.doDamage(e[t][r].index),e[t][r]="hit"),e[t][r]},areAllShipsPlaced:function(){return t.length===i.length},areAllShipsSunk:function(){return t.every((function(e){return e.isSunk()}))},autoPlaceShips:function(e){for(var t=0;t<e.length;t++){var r=e[t];c(r)}},reset:function(){e=Array(10).fill(null).map((function(){return Array(10).fill(null)})),t=[]}}};function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"human",t=c(i),r=function(){return e},n=function(){return t},a=function(e,t,r){r.receiveHit(e,t)},u=function e(t){var r=d(o(),2),n=r[0],i=r[1],a=t.getBoard()[n][i];"miss"===a||"hit"===a?e(t):t.receiveHit(n,i)},l=function(){t=c(i)};return{getType:r,attack:a,autoAttack:u,getShips:n,resetShips:l}},h=(r(107),function(){var e=document.querySelector(".draggable-ships-container"),t=document.querySelector(".start-button"),r=document.querySelector(".help-text"),n=document.querySelector(".player-grid"),i=document.querySelector(".computer-grid"),a=document.getElementById("auto-place"),o=document.querySelector(".player-settings"),c=document.querySelector(".computer-grid-container"),u=document.querySelector(".winner-container"),l=document.querySelector(".winner-text"),s=function(e,t,r){return'<div class="grid-cell cell-'.concat(e,"-").concat(t," ").concat(r,'" data-y=').concat(e," data-x=").concat(t," data-index={}></div>")};return{renderShips:function(t){for(var r=0;r<t.length;r++){var n=t[r];console.log(n);var i=document.createElement("div");i.classList.add("ship","".concat(n.id,"-container")),i.setAttribute("draggable",!0),i.dataset.ship="".concat(n.id);for(var a="",o=0;o<n.length;o++)a+="<div class=".concat(n.id," data-index=").concat(o,"></div>");i.insertAdjacentHTML("afterbegin",a),e.prepend(i)}},renderBoard:function(e,t,r){!function(e){e.textContent=""}(e);for(var n=t.getBoard(),i=n.length,a="",o=0;o<i;o++)for(var c=0;c<i;c++){var u=n[o][c];null===u?u="":u.ship&&(u="human"===r?u.ship.id:""),a+=s(o,c,u)}e.insertAdjacentHTML("afterbegin",a)},autoPlaceView:function(){t.classList.add("show"),r.classList.add("hide"),e.textContent=""},startGame:function(){n.classList.toggle("grid-disabled"),i.classList.toggle("grid-disabled"),i.classList.toggle("hide"),i.classList.toggle("show"),c.classList.toggle("hide"),c.classList.toggle("show"),t.classList.remove("show"),a.classList.remove("show"),o.classList.toggle("hide")},renderWinner:function(e){u.classList.toggle("hide"),u.classList.toggle("show"),l.textContent="".concat(e)},playAgain:function(){n.classList.toggle("grid-disabled"),i.classList.toggle("grid-disabled"),i.classList.toggle("hide"),c.classList.toggle("show"),c.classList.toggle("hide"),i.classList.toggle("show"),r.classList.toggle("show"),r.classList.toggle("hide"),o.classList.toggle("hide"),u.classList.toggle("hide"),u.classList.toggle("show")}}}()),p=function(e,t){var r,n,i=document.querySelector(".draggable-ships-container"),a=document.querySelector(".start-button"),o=document.querySelector(".help-text"),c=document.querySelector(".player-grid"),u=function(e){n=e.target.dataset.index},l=function(e){r=e.target},s=function(u){var l,s,d=u.target,f=r.dataset.ship,g=e.getShips(),p=g.map((function(e){return e.id})).indexOf(f),y=g[p];(function(){if("horizontal"===y.getDirection())return!0})()?(s=d.dataset.y,l=d.dataset.x-n):(s=d.dataset.y-n,l=d.dataset.x),t.placeShip(y,s,l)&&(h.renderBoard(c,t,e.getType()),v(),r.parentElement.removeChild(r),t.areAllShipsPlaced()&&(a.classList.add("show"),o.classList.add("hide"),i.textContent=""))},d=function(e){return e.preventDefault()},f=function(e){return e.preventDefault()},g=function(){},p=function(){},v=function(){for(var e=document.querySelectorAll(".ship"),t=document.querySelector(".player-grid").childNodes,r=0;r<e.length;r++){var n=e[r];n.addEventListener("mousedown",u),n.addEventListener("dragstart",l),n.addEventListener("dragend",p)}for(var i=0;i<t.length;i++){var a=t[i];a.addEventListener("dragover",d),a.addEventListener("dragenter",f),a.addEventListener("dragleave",g),a.addEventListener("drop",s)}};return{addEventListenersDrag:v}},v=function(){var e=document.querySelector(".player-grid"),t=document.querySelector(".computer-grid"),r=g("human"),n=g("computer"),i=s(),a=s(),o=p(r,i),c=function e(o){var c=o.target;if(c.classList.contains("grid-cell")){var u=c.dataset.y,s=c.dataset.x,d=a.getBoard()[u][s];if("miss"!==d&&"hit"!==d&&(r.attack(u,s,a),n.autoAttack(i),l()),i.areAllShipsSunk()||a.areAllShipsSunk()){var f="";i.areAllShipsSunk()?f="Computer is winner!":a.areAllShipsSunk()&&(f="Player 1 is winner!"),console.log(f),t.removeEventListener("click",e),h.renderWinner(f)}}},u=function(){h.renderShips(r.getShips()),o.addEventListenersDrag(),document.querySelectorAll(".ship").forEach((function(e){e.addEventListener("dblclick",(function(e){var t=e.target.parentElement,n=r.getShips(),i=n.map((function(e){return e.id})).indexOf(t.dataset.ship);n[i].changeDirection(),t.classList.toggle("vertical")}))}))},l=function(){h.renderBoard(e,i,r.getType()),h.renderBoard(t,a,n.getType())};return{renderDragShips:u,renderGrids:l,autoPlace:function(){i.reset(),i.autoPlaceShips(r.getShips()),l(),h.autoPlaceView()},gameStart:function(){t.addEventListener("click",c),a.autoPlaceShips(n.getShips()),h.startGame()},resetAndPlayAgain:function(){r.resetShips(),n.resetShips(),i.reset(),a.reset(),l(),h.playAgain(),u()}}};var y=document.querySelector(".start-button"),m=document.getElementById("auto-place"),S=document.querySelector(".play-again"),b=v();b.renderGrids(),b.renderDragShips(),m.addEventListener("click",(function(e){b.autoPlace()})),y.addEventListener("click",(function(e){b.gameStart()})),S.addEventListener("click",(function(e){b.resetAndPlayAgain()}))},82:function(e,t,r){}});
//# sourceMappingURL=app.15eab44a.js.map